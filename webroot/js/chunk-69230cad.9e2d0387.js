(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69230cad","chunk-2d21e3e9"],{"278e":function(e,t,a){},"93d9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{ref:"container"},[t("a-modal",{staticStyle:{top:"20px",height:"95%"},attrs:{title:e.title,width:1200,visible:e.visible,getContainer:function(){return e.$refs.container},maskStyle:{top:"93px",left:"154px"},wrapClassName:e.wrapClassNameInfo(),mask:e.isDesktop(),maskClosable:!1,cancelText:"关闭"},on:{cancel:e.handleCancel}},[t("template",{slot:"footer"},[t("a-button",{key:"back",on:{click:e.handleCancel}},[e._v("取消")])],1),t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"单据编号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入单据编号"},model:{value:e.queryParam.number,callback:function(t){e.$set(e.queryParam,"number",t)},expression:"queryParam.number"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"单据日期",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-range-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onDateChange,ok:e.onDateOk},model:{value:e.queryParam.createTimeRange,callback:function(t){e.$set(e.queryParam,"createTimeRange",t)},expression:"queryParam.createTimeRange"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"download"},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)],1)],1),t("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"numberCustomRender",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.myHandleDetail(i)}}},[e._v(e._s(i.number))])])}}])}),t("bill-detail",{ref:"billDetail"})],2)],1)},n=[],r=a("9be9"),l=a("b65a"),s=a("d579"),o=a("4ec3"),c=a("ca00"),d=a("ac0d"),u={name:"MaterialInOutList",mixins:[l["a"],d["b"]],components:{BillDetail:r["default"],JEllipsis:s["default"]},data:function(){return{title:"操作",visible:!1,disableMixinCreated:!1,toFromType:"",currentMaterialId:"",queryParam:{depotIds:"",materialId:"",number:"",beginTime:"",endTime:""},ipagination:{pageSizeOptions:["10","20","30","100","200"]},tabKey:"1",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:40,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"单据编号",dataIndex:"number",width:100,scopedSlots:{customRender:"numberCustomRender"}},{title:"类型",dataIndex:"type",width:100},{title:"条码",dataIndex:"barCode",width:100},{title:"名称",dataIndex:"materialName",width:200},{title:"仓库名称",dataIndex:"depotName",width:80},{title:"数量",dataIndex:"basicNumber",width:70},{title:"日期",dataIndex:"operTime",width:110}],labelCol:{xs:{span:1},sm:{span:2}},wrapperCol:{xs:{span:10},sm:{span:16}},url:{list:"/depotItem/findDetailByDepotIdsAndMaterialId"}}},created:function(){},methods:{getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.materialId=this.currentMaterialId,e.currentPage=this.ipagination.current,e.pageSize=this.ipagination.pageSize,e},show:function(e,t){this.model=Object.assign({},e),this.currentMaterialId=e.id,this.visible=!0,this.queryParam.depotIds=t,this.queryParam.materialId=e.id,this.loadData(1)},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()},onDateChange:function(e,t){this.queryParam.beginTime=t[0],this.queryParam.endTime=t[1]},onDateOk:function(e){},myHandleDetail:function(e){var t=this,a=this;this.toFromType=e.fromType,Object(o["U"])({number:e.number}).then((function(i){i&&200===i.code&&(t.$refs.billDetail.isCanBackCheck=!1,a.$refs.billDetail.show(i.data,e.type),a.$refs.billDetail.title="详情")}))},exportExcel:function(){for(var e=[["单据编号","类型","条码","名称","仓库名称","数量","日期"]],t=0;t<this.dataSource.length;t++){var a=this.dataSource[t],i=[a.number,a.type,a.barCode,a.materialName,a.depotName,a.basicNumber,a.operTime];e.push(i)}Object(c["l"])(Object(c["q"])(e),"商品库存流水")}}},m=u,p=(a("e28e"),a("e607")),b=Object(p["a"])(m,i,n,!1,null,"88d8ee5c",null);t["default"]=b.exports},d579:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-tooltip",{attrs:{placement:"topLeft"}},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.value))])]),e._v("\n  "+e._s(e._f("ellipsis")(e.value,e.length))+"\n")],2)},n=[],r={name:"JEllipsis",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}}},l=r,s=a("e607"),o=Object(s["a"])(l,i,n,!1,null,"4de15389",null);t["default"]=o.exports},e28e:function(e,t,a){"use strict";a("278e")}}]);