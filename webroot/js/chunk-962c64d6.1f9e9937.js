(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-962c64d6","chunk-d13a3074","chunk-4b198def","chunk-2d0bdf09"],{"11aa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{ref:"container"},[t("a-modal",{staticStyle:{top:"20%",height:"50%"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,getContainer:function(){return e.$refs.container},maskStyle:{top:"93px",left:"154px"},wrapClassName:e.wrapClassNameInfo(),mask:e.isDesktop(),maskClosable:!1,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机器码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["platformKey"],expression:"[ 'platformKey' ]",modifiers:{trim:!0}}],attrs:{readOnly:!0}})],1),t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"手机端激活码"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["platformValue"],expression:"[ 'platformValue' ]"}],attrs:{rows:2,placeholder:"请输入手机端激活码"}})],1)],1)],1)],1)],1)},r=[],i=a("85ee"),o=a.n(i),l=a("4ec3"),s=a("ac0d"),c=a("0fea"),u={name:"PluginAppModal",mixins:[s["b"]],data:function(){return{title:"操作",visible:!1,model:{},machineCode:"",activationCode:"",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){},methods:{edit:function(){var e=this;this.form.resetFields(),this.model=Object.assign({},{}),Object(c["c"])("/plugin/getMacWithSecret").then((function(t){t&&200==t.code&&(e.model.platformKey=t.data,Object(l["pb"])({platformKey:"app_activation_code"}).then((function(t){t&&200==t.code&&(e.model.platformValue=t.data.platformValue,e.visible=!0,e.$nextTick((function(){e.form.setFieldsValue(o()(e.model,"platformKey","platformValue"))})))})))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,n){if(!a){t.confirmLoading=!0;var r=Object.assign(e.model,n);r.platformKey="app_activation_code",Object(c["f"])("/platformConfig/updatePlatformConfigByKey",r).then((function(e){200===e.code?t.$message.info("填写成功！"):t.$message.warning(e.data.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=u,p=a("e607"),f=Object(p["a"])(d,n,r,!1,null,"aee2c690",null);t["default"]=f.exports},"1c91":function(e,t,a){"use strict";a("7c4c")},"2dab":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("a-date-picker",{attrs:{disabled:e.disabled||e.readOnly,placeholder:e.placeholder,value:e.momVal,showTime:e.showTime,format:e.dateFormat,getCalendarContainer:e.getCalendarContainer},on:{change:e.handleDateChange}})},r=[],i=a("2f42"),o=a.n(i),l={name:"JDate",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},dateFormat:{type:String,default:"YYYY-MM-DD HH:mm:ss",required:!1},triggerChange:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showTime:{type:Boolean,required:!1,default:!1},getCalendarContainer:{type:Function,default:function(e){return e.parentNode}}},data:function(){var e=this.value;return{decorator:"",momVal:e?o()(e,this.dateFormat):null}},watch:{value:function(e){this.momVal=e?o()(e,this.dateFormat):null}},methods:{moment:o.a,handleDateChange:function(e,t){this.$emit("change",t)}},model:{prop:"value",event:"change"}},s=l,c=a("e607"),u=Object(c["a"])(s,n,r,!1,null,null,null);t["default"]=u.exports},"69e9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{ref:"container"},[t("a-modal",{staticStyle:{top:"20%",height:"50%"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,getContainer:function(){return e.$refs.container},maskStyle:{top:"93px",left:"154px"},wrapClassName:e.wrapClassNameInfo(),mask:e.isDesktop(),maskClosable:!1,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"机器码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator.trim",value:["platformKey"],expression:"[ 'platformKey' ]",modifiers:{trim:!0}}],attrs:{readOnly:!0}})],1),t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"插件激活码"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["platformValue"],expression:"[ 'platformValue' ]"}],attrs:{rows:2,placeholder:"请输入插件激活码"}})],1)],1)],1)],1)],1)},r=[],i=a("85ee"),o=a.n(i),l=a("4ec3"),s=a("ac0d"),c=a("0fea"),u={name:"PluginModal",mixins:[s["b"]],data:function(){return{title:"操作",visible:!1,model:{},machineCode:"",activationCode:"",labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this)}},created:function(){},methods:{edit:function(){var e=this;this.form.resetFields(),this.model=Object.assign({},{}),Object(c["c"])("/plugin/getMacWithSecret").then((function(t){t&&200==t.code&&(e.model.platformKey=t.data,Object(l["pb"])({platformKey:"activation_code"}).then((function(t){t&&200==t.code&&(e.model.platformValue=t.data.platformValue,e.visible=!0,e.$nextTick((function(){e.form.setFieldsValue(o()(e.model,"platformKey","platformValue"))})))})))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,n){if(!a){t.confirmLoading=!0;var r=Object.assign(e.model,n);r.platformKey="activation_code",Object(c["f"])("/platformConfig/updatePlatformConfigByKey",r).then((function(e){200===e.code?t.$message.info("填写成功！"):t.$message.warning(e.data.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=u,p=a("e607"),f=Object(p["a"])(d,n,r,!1,null,"340921f2",null);t["default"]=f.exports},"7c4c":function(e,t,a){},"85ee":function(e,t,a){(function(t){var a=1/0,n=9007199254740991,r="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",l="[object Symbol]",s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")();function d(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function p(e,t){var a=-1,n=e?e.length:0,r=Array(n);while(++a<n)r[a]=t(e[a],a,e);return r}function f(e,t){var a=-1,n=t.length,r=e.length;while(++a<n)e[r+a]=t[a];return e}var m=Object.prototype,h=m.hasOwnProperty,g=m.toString,v=u.Symbol,b=m.propertyIsEnumerable,y=v?v.isConcatSpreadable:void 0,w=Math.max;function C(e,t,a,n,r){var i=-1,o=e.length;a||(a=_),r||(r=[]);while(++i<o){var l=e[i];t>0&&a(l)?t>1?C(l,t-1,a,n,r):f(r,l):n||(r[r.length]=l)}return r}function k(e,t){return e=Object(e),x(e,t,(function(t,a){return a in e}))}function x(e,t,a){var n=-1,r=t.length,i={};while(++n<r){var o=t[n],l=e[o];a(l,o)&&(i[o]=l)}return i}function O(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var a=arguments,n=-1,r=w(a.length-t,0),i=Array(r);while(++n<r)i[n]=a[t+n];n=-1;var o=Array(t+1);while(++n<t)o[n]=a[n];return o[t]=i,d(e,this,o)}}function _(e){return F(e)||S(e)||!!(y&&e&&e[y])}function j(e){if("string"==typeof e||L(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function S(e){return D(e)&&h.call(e,"callee")&&(!b.call(e,"callee")||g.call(e)==r)}var F=Array.isArray;function P(e){return null!=e&&$(e.length)&&!I(e)}function D(e){return K(e)&&P(e)}function I(e){var t=M(e)?g.call(e):"";return t==i||t==o}function $(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function M(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function K(e){return!!e&&"object"==typeof e}function L(e){return"symbol"==typeof e||K(e)&&g.call(e)==l}var T=O((function(e,t){return null==e?{}:k(e,p(C(t,1),j))}));e.exports=T}).call(this,a("2409"))},"9e30":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24}},[t("a-card",{style:e.cardStyle,attrs:{bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入名称查询"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.writeCode}},[e._v("填写插件激活码")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.writeAppCode}},[e._v("填写手机端激活码")])],1)],1)],1)],1)],1),t("div",{staticClass:"table-operator",staticStyle:{"margin-top":"5px"}},[t("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importUrl},on:{change:e.handleImportJar}},[t("a-popover",{attrs:{title:"导入注意点"}},[t("template",{slot:"content"},[t("p",[e._v("请选择需要导入的插件jar包")])]),t("a-button",{attrs:{type:"primary",icon:"import"}},[e._v("上传插件包")])],2)],1)],1),t("div",[t("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,scroll:e.scroll,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(a,n){return t("span",{},[t("a",{on:{click:function(t){return e.uploadTemplate(n)}}},[e._v("上传页面")]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"确定要开启该插件吗?"},on:{confirm:function(){return e.startPlugin(n.pluginDescriptor.pluginId)}}},[t("a",[e._v("开启")])]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"确定要停止该插件吗?"},on:{confirm:function(){return e.stopPlugin(n.pluginDescriptor.pluginId)}}},[t("a",[e._v("停止")])]),t("a-divider",{attrs:{type:"vertical"}}),t("a-popconfirm",{attrs:{title:"确定要卸载该插件吗?"},on:{confirm:function(){return e.uninstallPlugin(n.pluginDescriptor.pluginId)}}},[t("a",[e._v("卸载")])])],1)}},{key:"linkInfo",fn:function(a,n){return t("span",{},[t("a",{attrs:{href:e.linkUrl(n),target:"_blank",title:e.linkUrl(n)}},[e._v(e._s(e.linkUrl(n)))])])}},{key:"customRenderFlag",fn:function(a){return["STARTED"==a?t("a-tag",{attrs:{color:"green"}},[e._v("启用")]):e._e(),"STOPPED"==a?t("a-tag",{attrs:{color:"orange"}},[e._v("停止")]):e._e()]}}])})],1),t("plugin-modal",{ref:"modalForm",on:{ok:e.modalFormOk}}),t("plugin-app-modal",{ref:"appModalForm",on:{ok:e.appModalFormOk}})],1)],1)],1)},r=[],i=a("69e9"),o=a("11aa"),l=a("b65a"),s=a("0fea"),c=a("2dab"),u=a("ca00"),d={name:"PluginList",mixins:[l["a"]],components:{PluginModal:i["default"],PluginAppModal:o["default"],JDate:c["default"]},data:function(){return{labelCol:{span:5},wrapperCol:{span:18,offset:1},queryParam:{name:""},columns:[{title:"#",dataIndex:"",key:"rowIndex",width:40,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"操作",dataIndex:"action",width:200,align:"center",scopedSlots:{customRender:"action"}},{title:"名称",dataIndex:"",width:120,customRender:function(e,t,a){if(t){var n=t.pluginDescriptor.pluginDescription;if(n.indexOf("|")){var r=n.split("|");return r[0]}}}},{title:"标识",dataIndex:"",width:180,customRender:function(e,t,a){if(t)return t.pluginDescriptor.pluginId}},{title:"版本",dataIndex:"",width:120,customRender:function(e,t,a){if(t)return t.pluginDescriptor.version}},{title:"作者",dataIndex:"",width:100,customRender:function(e,t,a){if(t)return t.pluginDescriptor.provider}},{title:"页面链接",dataIndex:"",width:250,ellipsis:!0,scopedSlots:{customRender:"linkInfo"}},{title:"状态",dataIndex:"pluginState",width:60,align:"center",scopedSlots:{customRender:"customRenderFlag"}}],url:{list:"/plugin/list",delete:"/plugin/delete",deleteBatch:"/plugin/deleteBatch",importJarUrl:"/plugin/uploadInstallPluginJar"}}},computed:{importUrl:function(){return"".concat(window._CONFIG["domianURL"]).concat(this.url.importJarUrl)}},methods:{getQueryParams:function(){var e={};this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams),e["superQueryMatchType"]=this.superQueryMatchType);var t={};return t.name=this.queryParam.name,t.currentPage=this.ipagination.current,t.pageSize=this.ipagination.pageSize,Object(u["d"])(t)},writeCode:function(){this.$refs.modalForm.edit(),this.$refs.modalForm.title="填写插件激活码",this.$refs.modalForm.disableSubmit=!1},writeAppCode:function(){this.$refs.appModalForm.edit(),this.$refs.appModalForm.title="填写手机端激活码",this.$refs.appModalForm.disableSubmit=!1},linkUrl:function(e){var t=e.pluginDescriptor.pluginDescription;if(t.indexOf("|")){var a=t.split("|");return a[1]}return""},uploadTemplate:function(e){e.path.substring(0,e.path.indexOf("plugins"));this.$message.info("请将页面上传到服务器目录： /前端根目录/plugins/")},startPlugin:function(e){var t=this;Object(s["f"])("/plugin/start/"+e).then((function(e){e&&200==e.code&&t.loadData()}))},stopPlugin:function(e){var t=this;Object(s["f"])("/plugin/stop/"+e).then((function(e){e&&200==e.code&&t.loadData()}))},uninstallPlugin:function(e){var t=this;Object(s["f"])("/plugin/uninstall/"+e).then((function(e){e&&200==e.code&&t.loadData()}))},handleImportJar:function(e){e.file.status,"done"===e.file.status?e.file.response?200===e.file.response.code&&(this.$message.success(e.file.response.data),this.loadData()):this.$message.error(e.file.response.data):"error"===e.file.status&&this.$message.error("文件上传失败: ".concat(e.file.msg," "))}}},p=d,f=(a("1c91"),a("e607")),m=Object(f["a"])(p,n,r,!1,null,"72287a8a",null);t["default"]=m.exports}}]);