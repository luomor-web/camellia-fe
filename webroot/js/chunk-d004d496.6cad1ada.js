(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d004d496","chunk-129635ac","chunk-9ea9ad34","chunk-0842ccda"],{2004:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-modal",{staticStyle:{top:"12%",height:"90%","overflow-y":"hidden"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("div",[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onAdd.apply(null,arguments)}}},[t("a-tabs",{attrs:{"default-active-key":"1","tab-position":"left"}},[t("a-tab-pane",{key:"1",attrs:{tab:"单个序列号",forceRender:""}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"序列号"}},[t("a-input",{ref:"name",staticStyle:{width:"400px"},attrs:{placeholder:"请输入序列号并回车"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}}),t("div",{staticStyle:{float:"left"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("添加")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.clearAllSn}},[e._v("清空")])],1)],1)],1)],1)],1),t("a-tab-pane",{key:"2",attrs:{tab:"多个序列号",forceRender:""}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"序列号"}},[t("a-textarea",{staticStyle:{width:"400px"},attrs:{placeholder:"多个序列号用逗号隔开，请少于100个字符","auto-size":{minRows:2,maxRows:4}},model:{value:e.queryParam.multiName,callback:function(t){e.$set(e.queryParam,"multiName",t)},expression:"queryParam.multiName"}}),t("div",{staticStyle:{float:"left"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.onBatchAdd}},[e._v("批量添加")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.clearAllSn}},[e._v("清空")])],1)],1)],1)],1)],1)],1)],1)],1)])],1),t("a-row",{staticStyle:{padding:"10px"},attrs:{gutter:10}},[t("a-col",{attrs:{md:24,sm:24}},[t("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.checkDataSource,pagination:!1,loading:e.loading},scopedSlots:e._u([{key:"action",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.removeSn(i)}}},[e._v("移除")])])}}])})],1)],1)],1)},r=[],s=a("b65a"),o={name:"JSelectSnAddModal",mixins:[s["a"]],components:{},props:["rows","multi","barCode"],data:function(){return{modalWidth:800,queryParam:{name:"",multiName:""},labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:18}},categoryTree:[],columns:[{dataIndex:"serialNumber",title:"已录入的序列号",width:100,align:"left"},{tdataIndex:"action",title:"操作",align:"center",width:50,scopedSlots:{customRender:"action"}}],scrollTrigger:{y:460},checkDataSource:[],selectedRowKeys:[],selectRows:[],selectIds:[],title:"录入序列号",visible:!1,form:this.$form.createForm(this),disableMixinCreated:!0,loading:!1}},computed:{getType:function(){return 1==this.multi?"checkbox":"radio"}},watch:{barCode:{immediate:!0,handler:function(){this.initBarCode()}}},methods:{initBarCode:function(){this.barCode?this.$emit("initComp",this.barCode):this.$emit("initComp","")},showModal:function(){var e=this;if(this.visible=!0,this.$nextTick((function(){return e.$refs.name.focus()})),this.form.resetFields(),this.rows){this.checkDataSource=[];for(var t=JSON.parse(this.rows),a=t.snList.split(","),i=0;i<a.length;i++){var r={id:a[i],serialNumber:a[i]};this.checkDataSource.push(r)}}},clearAllSn:function(){this.checkDataSource=[]},close:function(){this.visible=!1},handleSubmit:function(){var e=this;this.getSelectRows(),e.$emit("ok",e.selectRows,e.selectIds),e.close()},removeSn:function(e){for(var t=this.checkDataSource,a=[],i=0;i<t.length;i++)t[i].id!==e.id&&a.push(t[i]);this.checkDataSource=a},getSelectRows:function(){var e="";this.selectRows=this.checkDataSource;for(var t=this.checkDataSource,a=0;a<t.length;a++)e=e+","+t[a].serialNumber;this.selectIds=e.substring(1)},onAdd:function(){if(this.queryParam.name){for(var e={id:this.queryParam.name,serialNumber:this.queryParam.name},t=this.checkDataSource,a=!1,i=0;i<t.length;i++)t[i].serialNumber===this.queryParam.name&&(a=!0);a?this.$message.warning("抱歉，此序列号已经添加过！"):(this.checkDataSource.push(e),this.queryParam.name="")}},onBatchAdd:function(){if(this.queryParam.multiName){this.queryParam.multiName=this.queryParam.multiName.replaceAll("，",",");for(var e=this.queryParam.multiName.split(","),t=0;t<e.length;t++){for(var a={id:e[t],serialNumber:e[t]},i=this.checkDataSource,r=!1,s=0;s<i.length;s++)i[s].serialNumber===e[t]&&(r=!0);if(r)return void this.$message.warning("抱歉，序列号"+e[t]+"已经添加过！");this.checkDataSource.push(a)}this.queryParam.multiName=""}}}},n=o,l=(a("4742"),a("e607")),c=Object(l["a"])(n,i,r,!1,null,null,null);t["default"]=c.exports},"2c74":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",["material"===e.kind?t("a-input-group",{staticStyle:{width:"100%"},attrs:{compact:""}},[t("a-select",{style:e.searchWidth,attrs:{placeholder:"输入条码或名称",dropdownMatchSelectWidth:!1,showSearch:"",showArrow:!1,optionFilterProp:"children",notFoundContent:"需在商品管理先新增才能使用"},on:{search:e.handleSearch,change:e.handleChange},scopedSlots:e._u([{key:"dropdownRender",fn:function(a){return t("div",{},[t("v-nodes",{attrs:{vnodes:a}}),20===e.materialData.length?t("a-divider",{staticStyle:{margin:"4px 0"}}):e._e(),20===e.materialData.length?t("div",{staticStyle:{padding:"4px 8px",cursor:"pointer"},on:{mousedown:function(e){return e.preventDefault()}}},[e._v("此处最多显示20条，如需更多请点击放大镜查询")]):e._e()],1)}}],null,!1,1561778350),model:{value:e.names,callback:function(t){e.names=t},expression:"names"}},e._l(e.materialData,(function(a){return t("a-select-option",{key:a.barCode},[e._v("\n        "+e._s(a.materialStr)+"\n      ")])})),1),t("a-button",{attrs:{icon:"search"},on:{click:e.onSearch}})],1):e._e(),"batch"===e.kind||"sn"===e.kind||"snAdd"===e.kind?t("a-input-search",{attrs:{placeholder:"请点开弹窗",readOnly:""},on:{search:e.onSearch},model:{value:e.names,callback:function(t){e.names=t},expression:"names"}}):e._e(),"material"===e.kind?t("j-select-material-modal",{ref:"selectModal",attrs:{rows:e.rows,multi:e.multi,"bar-code":e.value},on:{ok:e.selectOK,initComp:e.initComp}}):e._e(),"batch"===e.kind?t("j-select-batch-modal",{ref:"selectModal",attrs:{rows:e.rows,multi:e.multi,"bar-code":e.value},on:{ok:e.selectOK,initComp:e.initComp}}):e._e(),"sn"===e.kind?t("j-select-sn-modal",{ref:"selectModal",attrs:{rows:e.rows,multi:e.multi,"bar-code":e.value},on:{ok:e.selectOK,initComp:e.initComp}}):e._e(),"snAdd"===e.kind?t("j-select-sn-add-modal",{ref:"selectModal",attrs:{rows:e.rows,multi:e.multi,"bar-code":e.value},on:{ok:e.selectOK,initComp:e.initComp}}):e._e()],1)},r=[],s=a("79e9"),o=a("ce5b"),n=a("d083"),l=a("2004"),c=a("4ec3"),d={name:"JSelectList",components:{JSelectMaterialModal:s["default"],JSelectBatchModal:o["default"],JSelectSnModal:n["default"],JSelectSnAddModal:l["default"],VNodes:{functional:!0,render:function(e,t){return t.props.vnodes}}},props:{value:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},rows:{type:String,required:!1},kind:{type:String,required:!1},multi:{type:Boolean,default:!0,required:!1}},data:function(){return{ids:"",names:"",materialData:[],setTimeFlag:null,searchWidth:""}},mounted:function(){this.ids=this.value},watch:{value:function(e){this.ids=e}},created:function(){var e=window.screen.width;this.searchWidth=e<1500?"width:75%":"width:81%"},model:{prop:"value",event:"change"},methods:{initComp:function(e){this.names=e||void 0},onSearch:function(){this.$refs.selectModal.showModal()},handleSearch:function(e){var t=this;null!=this.setTimeFlag&&clearTimeout(this.setTimeFlag),this.setTimeFlag=setTimeout((function(){Object(c["kb"])({q:e}).then((function(e){e&&200===e.code&&(t.materialData=e.data)}))}),500)},handleChange:function(e){this.$emit("change",e)},selectOK:function(e,t){this.ids=e?t:"",this.$emit("change",this.ids)}}},u=d,h=a("e607"),m=Object(h["a"])(u,i,r,!1,null,"6215d897",null);t["default"]=m.exports},4742:function(e,t,a){"use strict";a("4f7e")},"4f7e":function(e,t,a){},"956c":function(e,t,a){"use strict";a("f21f")},b5ce:function(e,t,a){},ce5b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-modal",{staticStyle:{top:"12%",height:"90%","overflow-y":"hidden"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[t("a-row",{staticStyle:{padding:"10px",margin:"-10px"},attrs:{gutter:10}},[t("a-col",{attrs:{md:24,sm:24}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"批号"}},[t("a-input",{ref:"name",attrs:{placeholder:"请输入批号"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.loadData(1)}}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")]),t("span",{staticStyle:{"margin-left":"20px"}},[e._v("提示：双击行可以直接选中")])],1)],1)],1)],1),t("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:e.getType},loading:e.loading,customRow:e.rowAction}})],1)])],1)],1)},r=[],s=(a("0fea"),a("4ec3")),o=a("b65a"),n={name:"JSelectBatchModal",mixins:[o["a"]],components:{},props:["rows","multi","barCode"],data:function(){return{modalWidth:1100,queryParam:{name:"",depotItemId:"",depotId:"",barCode:""},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},categoryTree:[],columns:[{dataIndex:"batchNumber",title:"批号",width:100,align:"left",ellipsis:!0},{dataIndex:"barCode",title:"条码",width:100,ellipsis:!0},{dataIndex:"name",title:"名称",width:100,ellipsis:!0},{dataIndex:"standard",title:"规格",width:80,ellipsis:!0},{dataIndex:"model",title:"型号",width:80,ellipsis:!0},{dataIndex:"commodityUnit",title:"单位",width:60,ellipsis:!0},{dataIndex:"expirationDateStr",title:"有效期至",width:80},{dataIndex:"totalNum",title:"库存",width:80}],scrollTrigger:{},dataSource:[],selectedRowKeys:[],selectRows:[],selectIds:[],title:"选择批号",isorter:{column:"createTime",order:"desc"},departTree:[],depotList:[],visible:!1,form:this.$form.createForm(this),loading:!1,expandedKeys:[]}},computed:{getType:function(){return 1==this.multi?"checkbox":"radio"}},watch:{barCode:{immediate:!0,handler:function(){this.initBarCode()}}},created:function(){this.loadData()},methods:{initBarCode:function(){this.barCode?this.$emit("initComp",this.barCode):this.$emit("initComp","")},loadData:function(e){var t=this;if(this.rows&&JSON.parse(this.rows).depotId&&JSON.parse(this.rows).barCode){var a=JSON.parse(this.rows).id;a.length<=19&&(this.queryParam.depotItemId=a-0),this.queryParam.depotId=JSON.parse(this.rows).depotId-0,this.queryParam.barCode=JSON.parse(this.rows).barCode}1===e&&(this.ipagination.current=1),this.loading=!0;var i=this.getQueryParams();Object(s["db"])(i).then((function(e){e&&200===e.code&&(t.dataSource=e.data.rows,t.ipagination.total=e.data.total)})).finally((function(){t.loading=!1}))},showModal:function(){var e=this;this.visible=!0,this.$nextTick((function(){return e.$refs.name.focus()})),this.loadData(),this.form.resetFields()},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},searchReset:function(e){var t=this;if(0!==e){if(this.rows&&(this.queryParam.name="",JSON.parse(this.rows).depotId&&JSON.parse(this.rows).barCode)){var a=JSON.parse(this.rows).id;a.length<=19&&(this.queryParam.depotItemId=a-0),this.queryParam.depotId=JSON.parse(this.rows).depotId-0,this.queryParam.barCode=JSON.parse(this.rows).barCode}t.loadData(1)}t.selectedRowKeys=[],t.selectIds=[]},close:function(){this.searchReset(0),this.visible=!1},handleSubmit:function(){var e=this;this.getSelectRows(),e.$emit("ok",e.selectRows,e.selectIds),e.searchReset(0),e.close()},getSelectRows:function(e){var t=this.dataSource,a="";this.selectRows=[];for(var i=0,r=t.length;i<r;i++)this.selectedRowKeys.includes(t[i].id)&&(this.selectRows.push(t[i]),a=a+","+t[i].batchNumber);this.selectIds=a.substring(1)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){if(this.dataSource&&1===this.dataSource.length)if(this.queryParam.name===this.dataSource[0].batchNumber){var e=[];e.push(this.dataSource[0].id),this.selectedRowKeys=e,this.handleSubmit()}else this.loadData(1);else this.loadData(1)},modalFormOk:function(){this.loadData()},rowAction:function(e,t){var a=this;return{on:{click:function(){var t=[];t.push(e.id),a.selectedRowKeys=t},dblclick:function(){var t=[];t.push(e.id),a.selectedRowKeys=t,a.handleSubmit()}}}}}},l=n,c=(a("de57"),a("e607")),d=Object(c["a"])(l,i,r,!1,null,"6482e754",null);t["default"]=d.exports},d083:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-modal",{staticStyle:{top:"12%",height:"90%","overflow-y":"hidden"},attrs:{width:e.modalWidth,visible:e.visible,title:e.title,cancelText:"关闭",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleSubmit,cancel:e.close}},[t("a-row",{staticStyle:{padding:"10px",margin:"-10px"},attrs:{gutter:10}},[t("a-col",{attrs:{md:16,sm:24}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearch.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"序列号"}},[t("a-input",{ref:"name",attrs:{placeholder:"请输入序列号并回车"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.checkAll}},[e._v("全选")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.searchReset(1)}}},[e._v("重置")])],1)],1)],1)],1)],1)]),t("a-col",{attrs:{md:8,sm:24}},[t("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[e._v("此处为已选中的序列号列表")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.clearAllSn}},[e._v("清空")])],1)],1),t("a-row",{staticStyle:{padding:"10px",margin:"-10px"},attrs:{gutter:10}},[t("a-col",{attrs:{md:16,sm:24}},[t("a-table",{ref:"table",staticStyle:{width:"95%"},attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.leftColumns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.checkSn(i)}}},[e._v("选中")])])}}])})],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-table",{ref:"table",attrs:{scroll:e.scrollTrigger,size:"middle",rowKey:"id",columns:e.rightColumns,dataSource:e.checkDataSource,pagination:!1,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.removeSn(i)}}},[e._v("移除")])])}}])})],1)],1)],1)},r=[],s=(a("0fea"),a("4ec3")),o=a("b65a"),n={name:"JSelectSnModal",mixins:[o["a"]],components:{},props:["rows","multi","barCode"],data:function(){return{modalWidth:1e3,queryParam:{name:"",depotItemId:"",depotId:"",barCode:""},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},categoryTree:[],leftColumns:[{dataIndex:"serialNumber",title:"序列号",width:100,align:"left"},{dataIndex:"inBillNo",title:"入库单号",width:100,align:"left"},{dataIndex:"createTimeStr",title:"创建时间",width:100,align:"left"},{dataIndex:"action",title:"操作",align:"center",width:50,scopedSlots:{customRender:"action"}}],rightColumns:[{dataIndex:"serialNumber",title:"序列号",width:100,align:"left"},{tdataIndex:"action",title:"操作",align:"center",width:50,scopedSlots:{customRender:"action"}}],scrollTrigger:{y:460},dataSource:[],checkDataSource:[],selectedRowKeys:[],selectRows:[],selectIds:[],title:"选择序列号",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30","100","200"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},departTree:[],depotList:[],visible:!1,form:this.$form.createForm(this),loading:!1,expandedKeys:[]}},computed:{getType:function(){return 1==this.multi?"checkbox":"radio"}},watch:{barCode:{immediate:!0,handler:function(){this.initBarCode()}}},created:function(){this.loadData()},methods:{initBarCode:function(){this.barCode?this.$emit("initComp",this.barCode):this.$emit("initComp","")},loadData:function(e){var t=this;if(this.rows&&JSON.parse(this.rows).depotId&&JSON.parse(this.rows).barCode){var a=JSON.parse(this.rows).id;a.length<=19&&(this.queryParam.depotItemId=a-0),this.queryParam.depotId=JSON.parse(this.rows).depotId-0,this.queryParam.barCode=JSON.parse(this.rows).barCode}1===e&&(this.ipagination.current=1),this.loading=!0;var i=this.getQueryParams();Object(s["gb"])(i).then((function(e){if(e&&200===e.code&&(t.dataSource=e.data.rows,t.ipagination.total=e.data.total,1===e.data.total&&t.queryParam.name===t.dataSource[0].serialNumber)){var a={id:t.dataSource[0].id,serialNumber:t.dataSource[0].serialNumber};t.checkSn(a),t.queryParam.name=""}})).finally((function(){t.loading=!1}))},showModal:function(){var e=this;if(this.visible=!0,this.$nextTick((function(){return e.$refs.name.focus()})),this.loadData(),this.form.resetFields(),this.rows){this.checkDataSource=[];for(var t=JSON.parse(this.rows),a=t.snList.split(","),i=0;i<a.length;i++){var r={id:a[i],serialNumber:a[i]};this.checkDataSource.push(r)}}},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.page=this.ipagination.current,e.rows=this.ipagination.pageSize,e},getQueryField:function(){for(var e="id,",t=0;t<this.columns.length;t++)e+=","+this.columns[t].dataIndex;return e},checkAll:function(){this.checkDataSource=[];for(var e=this.dataSource,t=0;t<e.length;t++){var a={id:e[t].id,serialNumber:e[t].serialNumber};this.checkDataSource.push(a)}},clearAllSn:function(){this.checkDataSource=[]},searchReset:function(e){var t=this;if(0!==e){if(this.rows&&(this.queryParam.name="",JSON.parse(this.rows).depotId&&JSON.parse(this.rows).barCode)){var a=JSON.parse(this.rows).id;a.length<=19&&(this.queryParam.depotItemId=a-0),this.queryParam.depotId=JSON.parse(this.rows).depotId-0,this.queryParam.barCode=JSON.parse(this.rows).barCode}t.loadData(1)}t.selectedRowKeys=[],t.selectIds=[]},close:function(){this.searchReset(0),this.visible=!1},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleSubmit:function(){var e=this;this.getSelectRows(),e.$emit("ok",e.selectRows,e.selectIds),e.searchReset(0),e.close()},checkSn:function(e){for(var t={id:e.id,serialNumber:e.serialNumber},a=this.checkDataSource,i=!1,r=0;r<a.length;r++)a[r].serialNumber===e.serialNumber&&(i=!0);i?this.$message.warning("抱歉，此序列号已经选择过！"):this.checkDataSource.push(t)},removeSn:function(e){for(var t=this.checkDataSource,a=[],i=0;i<t.length;i++)t[i].id!==e.id&&a.push(t[i]);this.checkDataSource=a},getSelectRows:function(){var e="";this.selectRows=this.checkDataSource;for(var t=this.checkDataSource,a=0;a<t.length;a++)e=e+","+t[a].serialNumber;this.selectIds=e.substring(1)},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onSearch:function(){this.loadData(1)},modalFormOk:function(){this.loadData()}}},l=n,c=(a("956c"),a("e607")),d=Object(c["a"])(l,i,r,!1,null,"8dff58fe",null);t["default"]=d.exports},de57:function(e,t,a){"use strict";a("b5ce")},f21f:function(e,t,a){}}]);