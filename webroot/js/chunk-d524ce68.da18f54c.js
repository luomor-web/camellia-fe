(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d524ce68","chunk-2d21e3e9"],{2977:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:24}},[t("a-card",{style:e.cardStyle,attrs:{bordered:!1}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"操作模块",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入操作模块"},model:{value:e.queryParam.operation,callback:function(t){e.$set(e.queryParam,"operation",t)},expression:"queryParam.operation"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"操作详情",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入操作详情"},model:{value:e.queryParam.content,callback:function(t){e.$set(e.queryParam,"content",t)},expression:"queryParam.content"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"创建时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-range-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD",placeholder:["开始时间","结束时间"]},on:{change:e.onDateChange,ok:e.onDateOk},model:{value:e.queryParam.createTimeRange,callback:function(t){e.$set(e.queryParam,"createTimeRange",t)},expression:"queryParam.createTimeRange"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.searchQuery}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.searchReset}},[e._v("重置")]),t("a",{staticStyle:{"margin-left":"8px"},on:{click:e.handleToggleSearch}},[e._v("\n                  "+e._s(e.toggleSearchStatus?"收起":"展开")+"\n                  "),t("a-icon",{attrs:{type:e.toggleSearchStatus?"up":"down"}})],1)],1)]),e.toggleSearchStatus?[t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"操作员",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入操作员账号或姓名"},model:{value:e.queryParam.userInfo,callback:function(t){e.$set(e.queryParam,"userInfo",t)},expression:"queryParam.userInfo"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"操作IP",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入操作IP"},model:{value:e.queryParam.clientIp,callback:function(t){e.$set(e.queryParam,"clientIp",t)},expression:"queryParam.clientIp"}})],1)],1),t("a-col",{attrs:{md:6,sm:24}},[t("a-form-item",{attrs:{label:"操作状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{attrs:{placeholder:"请选择操作状态"},model:{value:e.queryParam.status,callback:function(t){e.$set(e.queryParam,"status",t)},expression:"queryParam.status"}},[t("a-select-option",{attrs:{value:""}},[e._v("请选择")]),t("a-select-option",{attrs:{value:"0"}},[e._v("成功")]),t("a-select-option",{attrs:{value:"1"}},[e._v("失败")])],1)],1)],1)]:e._e()],2)],1)],1),t("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,scroll:e.scroll,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"content",fn:function(e,a){return t("span",{},[t("j-ellipsis",{attrs:{value:e,length:40}})],1)}}])})],1)],1)],1)},r=[],n=a("b65a"),o=a("d579"),s={name:"LogList",mixins:[n["a"]],components:{JEllipsis:o["default"]},data:function(){return{queryParam:{operation:"",content:"",createTimeRange:[],userInfo:"",clientIp:"",status:""},tabKey:"1",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:40,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"操作模块",dataIndex:"operation",width:120,align:"left"},{title:"操作详情",dataIndex:"content",scopedSlots:{customRender:"content"},width:350,align:"left"},{title:"操作员账号",dataIndex:"loginName",width:80,align:"left"},{title:"操作员姓名",dataIndex:"userName",width:80,align:"left"},{title:"操作状态",dataIndex:"status",width:80,align:"left",customRender:function(e){return e?"失败":"成功"}},{title:"操作IP",dataIndex:"clientIp",width:110,align:"left"},{title:"操作时间",dataIndex:"createTimeStr",width:120,align:"left"}],operateColumn:{title:"操作类型",dataIndex:"operateType_dictText",align:"center"},labelCol:{span:5},wrapperCol:{span:18,offset:1},url:{list:"/log/list"}}},methods:{callback:function(e){2==e?(this.tabKey="2",this.columns.splice(7,0,this.operateColumn)):9==this.columns.length&&(this.tabKey="1",this.columns.splice(7,1));var t=this;t.queryParam.logType=e,t.loadData()},onDateChange:function(e,t){this.queryParam.beginTime=t[0],this.queryParam.endTime=t[1]},onDateOk:function(e){}}},i=s,c=(a("7343"),a("e607")),u=Object(c["a"])(i,l,r,!1,null,"498402de",null);t["default"]=u.exports},7343:function(e,t,a){"use strict";a("bc7b")},bc7b:function(e,t,a){},d579:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("a-tooltip",{attrs:{placement:"topLeft"}},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.value))])]),e._v("\n  "+e._s(e._f("ellipsis")(e.value,e.length))+"\n")],2)},r=[],n={name:"JEllipsis",props:{value:{type:String,required:!1},length:{type:Number,required:!1,default:25}}},o=n,s=a("e607"),i=Object(s["a"])(o,l,r,!1,null,"4de15389",null);t["default"]=i.exports}}]);