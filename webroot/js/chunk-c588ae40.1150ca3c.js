(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c588ae40","chunk-2d22528e"],{e2e0:function(t,e,n){"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return u}));var o={normal:"normal",input:"input",inputNumber:"inputNumber",checkbox:"checkbox",select:"select",date:"date",datetime:"datetime",upload:"upload",file:"file",image:"image",popup:"popup",popupJsh:"popupJsh",list_multi:"list_multi",sel_search:"sel_search",radio:"radio",checkbox_meta:"checkbox_meta",input_pop:"input_pop",slot:"slot",hidden:"hidden"},r=Symbol();function a(t,e){return new Promise((function(n){(function i(){var o=t.$refs[e];o?n(o):setTimeout((function(){i()}),10)})()}))}function s(t,e){if(!t||"function"!==typeof t.validateFields)throw"form 参数需要的是一个form对象，而传入的却是".concat(i(t));var n={};return new Promise((function(e,n){t.validateFields((function(t,i){t?n({error:r}):e(i)}))})).then((function(t){return Object.assign(n,{formValue:t}),c(e)})).then((function(t){return Object.assign(n,{tablesValue:t}),Promise.resolve(n)})).catch((function(t){return Promise.reject(t)}))}function c(t,e){if(!(t instanceof Array))throw"'validateTables'函数的'cases'参数需要的是一个数组，而传入的却是".concat(i(t));return new Promise((function(n,i){var o=[],a=0;t&&0!=t.length||n(),function s(){var c=t[a];c.getAll(!0,e).then((function(e){o[a]=e,++a===t.length?n(o):s()}),(function(t){t===r&&i({error:r,index:a}),i(t)}))}()}))}function u(t,e){var n={};return new Promise((function(e,n){t.validateFields(["number"],(function(t,i){t?n({error:r}):e(i)}))})).then((function(t){return Object.assign(n,{formValue:t}),l(e)})).then((function(t){return Object.assign(n,{tablesValue:t}),Promise.resolve(n)})).catch((function(t){return Promise.reject(t)}))}function l(t,e){if(!(t instanceof Array))throw"'validateTables'函数的'cases'参数需要的是一个数组，而传入的却是".concat(i(t));return new Promise((function(n,i){var o=[],a=0;t&&0!=t.length||n(),function s(){var c=t[a];c.getAll(!1,e).then((function(e){o[a]=e,++a===t.length?n(o):s()}),(function(t){t===r&&i({error:r,index:a}),i(t)}))}()}))}},fbb5:function(t,e,n){"use strict";n.r(e),n.d(e,"BillListMixin",(function(){return c}));var i=n("1f37"),o=n("0fea"),r=n("e2e0"),a=n("4ec3"),s=n("ca00"),c={data:function(){return{checkFlag:!0,prefixNo:"",supList:[],cusList:[],retailList:[],userList:[],accountList:[]}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)},isBatchDelEnabled:function(){for(var t=0;t<this.selectedRowKeys.length;t++)if(!this.selectionRows[t].actionsEnabled.delete)return!1;return!0}},created:function(){},methods:{myHandleAdd:function(){this.$refs.modalForm.action="add",-1===this.btnEnableList.indexOf(2)&&(this.$refs.modalForm.isCanCheck=!1),this.handleAdd()},myHandleCopyAdd:function(t){this.$refs.modalForm.action="copyAdd",-1===this.btnEnableList.indexOf(2)&&(this.$refs.modalForm.isCanCheck=!1),t.linkNumber="",t.billType="",t.deposit="",this.$refs.modalForm.edit(t),this.$refs.modalForm.title="复制新增",this.$refs.modalForm.disableSubmit=!1,this.$refs.modalForm.rowCanEdit=!0,this.$refs.modalForm.materialTable.columns[1].type=r["a"].popupJsh},myHandleEdit:function(t){var e=this;"0"===t.status?(this.$refs.modalForm.action="edit",-1===this.btnEnableList.indexOf(2)&&(this.$refs.modalForm.isCanCheck=!1),Object(a["U"])({number:t.number}).then((function(t){if(t&&200===t.code){var n=t.data;e.handleEdit(n)}}))):this.$message.warning("抱歉，只有未审核的单据才能编辑！")},myHandleDelete:function(t){"0"===t.status?this.handleDelete(t.id):this.$message.warning("抱歉，只有未审核的单据才能删除！")},myHandleDetail:function(t,e,n){-1===this.btnEnableList.indexOf(7)&&(this.$refs.modalDetail.isCanBackCheck=!1),this.handleDetail(t,e,n)},handleApprove:function(t){this.$refs.modalForm.action="approve",this.$refs.modalForm.edit(t),this.$refs.modalForm.title="审核"},searchReset:function(){this.queryParam={type:this.queryParam.type,subType:this.queryParam.subType,roleType:i["a"].ls.get("roleType")},this.loadData(1)},onDateChange:function(t,e){this.queryParam.beginTime=e[0],this.queryParam.endTime=e[1]},onDateOk:function(t){},initSystemConfig:function(){var t=this;Object(a["fb"])().then((function(e){if(200===e.code&&e.data){var n=e.data.multiBillType,i=e.data.multiLevelApprovalFlag;t.checkFlag=Object(s["f"])(n,i,t.prefixNo)}}))},initSupplier:function(){var t=this;Object(a["Y"])({}).then((function(e){e&&(t.supList=e)}))},initCustomer:function(){var t=this;Object(a["V"])({}).then((function(e){e&&(t.cusList=e)}))},initRetail:function(){var t=this;Object(a["X"])({}).then((function(e){e&&(t.retailList=e)}))},getDepotData:function(){var t=this;Object(o["c"])("/depot/findDepotByCurrentUser").then((function(e){200===e.code?t.depotList=e.data:t.$message.info(e.data)}))},initUser:function(){var t=this;Object(a["qb"])({}).then((function(e){e&&(t.userList=e)}))},initAccount:function(){var t=this;Object(a["cb"])({}).then((function(e){if(e&&200===e.code){var n=e.data.accountList;t.accountList=n}}))}}}}}]);